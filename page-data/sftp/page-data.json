{"componentChunkName":"component---src-templates-lesson-template-js","path":"/sftp","result":{"data":{"markdownRemark":{"html":"<p>Sometimes you need to transfer files between two computers. This can take the form of either transferring files from you local computer to your remote server or from your remote computer back to your local computer. Before we had more mature continuous deployment tools like Azure Pipelines, Travis CI, or GitHub Actions, we often used a tool called ftp (file transfer protocol). While it worked and it was a relatively simple and straightforward of doing things, we moved onto to more reliable tools. However ftp evolved into <strong>s</strong>ecure ftp which we still use today.</p>\n<h2 id=\"how-to-set-up-sftp\" style=\"position:relative;\"><a href=\"#how-to-set-up-sftp\" aria-label=\"how to set up sftp permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>How to set up sftp</h2>\n<p>Okay, buckle up. This is your biggest challenge yet.</p>\n<p>Just kidding, you're already done. One of the best things about sftp is that it works 100% over the same ways that ssh does so if you've set up ssh you've inherently set up sftp too (it possible to set up one and not the other but you have change some options.) This was a welcome departure from ftp which has its own setup process and ports that had to be managed.</p>\n<p>Okay so using the VMs we set up in the previous section, let's sftp into secondary from primary. The sftp interactive shell is similar to a less friendly and stripped down version of bash. The thing to keep in mind is you're in <em>two</em> directories at the same time as opposed to normal bash when you're just in one. With sftp, you have a local context and a remote context. In order to run a local command, tack an <code class=\"language-text\">l</code> to the start of whatever command you're running, like <code class=\"language-text\">lls</code>, <code class=\"language-text\">lpwd</code>, or <code class=\"language-text\">lcd</code>. When you want to do it on the remote machine, just run the commands like normal, like <code class=\"language-text\">ls</code>, <code class=\"language-text\">pwd</code>, or <code class=\"language-text\">cd</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sftp</span> brian@<span class=\"token operator\">&lt;</span>the same <span class=\"token function\">ip</span> from the previous step<span class=\"token operator\">></span>\nlpwd <span class=\"token comment\"># ubuntu's local home directory</span>\n<span class=\"token builtin class-name\">pwd</span> <span class=\"token comment\"># brian's remote home directory</span>\nlls <span class=\"token comment\"># the list of files in ubuntu's home directory</span>\n<span class=\"token function\">ls</span> <span class=\"token comment\"># the list of files in brian's home directory</span>\n<span class=\"token builtin class-name\">help</span> <span class=\"token comment\"># see all the commands you can do</span></code></pre></div>\n<p>Feel free to navigate around. I tend to not spend too much time inside sftp because it's easier do everything in ssh except file transfers. The two key commands you need to know here are <code class=\"language-text\">get</code> and <code class=\"language-text\">put</code>. It's from the perspective of your local computer so in this case we're connecting from primary to secondary, so <code class=\"language-text\">get</code>ting something will download it from secondary and <code class=\"language-text\">put</code>ting someting will upload it.</p>\n<p>If you have some files already laying around go ahead and toy with it. This is a great thing to use with <code class=\"language-text\">tar</code> as well so you can bundle up packages of files before sending them to a different computer.</p>\n<p>So now we want to upload a file. But hey, you may not have a file to upload right now. It'd be great if we could run a quick command on our local computer. And you can! Just prefix it with <code class=\"language-text\">!</code> and you can quickly run a <code class=\"language-text\">touch</code> or a <code class=\"language-text\">tar</code>.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token operator\">!</span>touch file-to-put.txt</code></pre></div>\n<p>Obviously I wouldn't encourage you to do a lot here; if you need to just disconnect and then reconnect later, but it's helpful for quick things you need to do.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">put file-to-put.txt putted-file.txt <span class=\"token comment\"># second argument is optional, if you omit it'll just use the same name</span>\nget putted-file.txt gotten-file.txt <span class=\"token comment\"># same thing, second one is optional</span></code></pre></div>\n<p>Here we went through the very fruitful exercise of putting a file on a server, renaming it and then downloading it again. But now you can see how you can download and upload files.</p>\n<p>And that's it! sftp can do a few more things like make directories and chmod/chown stuff but I'll leave you to poke and prod that as you need to.</p>","frontmatter":{"path":"/sftp","title":"SFTP","order":"7B","section":"Networking and the Internet","description":"Once you have set up ssh you automatically get sftp for free! sftp allows you to securely transfers files to and from a remote machine to your local machine."}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"order":"3A","path":"/anatomy-of-a-cli-command","title":"Anatomy of a CLI Command"}}},{"node":{"frontmatter":{"order":"8B","path":"/apt","title":"APT"}}},{"node":{"frontmatter":{"order":"10C","path":"/conclusion","title":"Conclusion"}}},{"node":{"frontmatter":{"order":"9C","path":"/conditionals","title":"Conditionals"}}},{"node":{"frontmatter":{"order":"10A","path":"/cron","title":"cron"}}},{"node":{"frontmatter":{"order":"7D","path":"/curl","title":"curl"}}},{"node":{"frontmatter":{"order":"10B","path":"/customize-your-shell","title":"Customize Your Shell"}}},{"node":{"frontmatter":{"order":"6A","path":"/environments","title":"Environments"}}},{"node":{"frontmatter":{"order":"10D","path":"/errata","title":"Errata"}}},{"node":{"frontmatter":{"order":"5A","path":"/interacting-with-files","title":"Interacting with Files"}}},{"node":{"frontmatter":{"order":"1A","path":"/intro","title":"Introduction"}}},{"node":{"frontmatter":{"order":"2C","path":"/lets-run-linux","title":"Let's Run Linux"}}},{"node":{"frontmatter":{"order":"9D","path":"/loops-and-arrays","title":"Loops and Arrays"}}},{"node":{"frontmatter":{"order":"4A","path":"/nano","title":"nano"}}},{"node":{"frontmatter":{"order":"6D","path":"/process-operators","title":"Exit Codes, Process Operators, and Subcommands"}}},{"node":{"frontmatter":{"order":"6B","path":"/processes","title":"Processes"}}},{"node":{"frontmatter":{"order":"7B","path":"/sftp","title":"SFTP"}}},{"node":{"frontmatter":{"order":"8C","path":"/snaps","title":"Snaps"}}},{"node":{"frontmatter":{"order":"7A","path":"/ssh","title":"SSH"}}},{"node":{"frontmatter":{"order":"3C","path":"/signals-and-the-power-of-ctrl","title":"Signals and the the Power of CTRL"}}},{"node":{"frontmatter":{"order":"5C","path":"/streams-and-pipes","title":"Streams and Pipes"}}},{"node":{"frontmatter":{"order":"3B","path":"/common-tips-and-tricks","title":"Common Tips and Tricks"}}},{"node":{"frontmatter":{"order":"5D","path":"/users-groups-and-permissions","title":"Users, Groups, and Permissions"}}},{"node":{"frontmatter":{"order":"9B","path":"/variables","title":"Variables"}}},{"node":{"frontmatter":{"order":"4B","path":"/vim","title":"vim"}}},{"node":{"frontmatter":{"order":"7C","path":"/wget","title":"wget"}}},{"node":{"frontmatter":{"order":"2B","path":"/what-is-linux","title":"What is Linux"}}},{"node":{"frontmatter":{"order":"8A","path":"/what-is-package-management","title":"What is Package Management"}}},{"node":{"frontmatter":{"order":"2A","path":"/what-will-you-learn","title":"What you will learn"}}},{"node":{"frontmatter":{"order":"5B","path":"/lol","title":"Wildcards and Replacements"}}},{"node":{"frontmatter":{"order":"9A","path":"/writing-your-own-scripts","title":"Writing Your Own Scripts"}}}]}},"pageContext":{}}}