{"componentChunkName":"component---src-templates-lesson-template-js","path":"/users-groups-and-permissions","result":{"data":{"markdownRemark":{"html":"<p>Linux is inherently a multi user system. You have an account (in our case, ubuntu is the name of the user by default for Multipass) but there are always multiple users of a Linux system. Many of the users of the system aren't even meant to be actual human users; many programs will create their own users and groups to keep themselves separate from userspace.</p>\n<h2 id=\"users\" style=\"position:relative;\"><a href=\"#users\" aria-label=\"users permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Users</h2>\n<p>Run <code class=\"language-text\">whoami</code> from your command line. If you're using Multipass, it will likely say \"ubuntu\". This is useful in case you're not sure who is running some program. A user is what you'd expect: a user of the system. The user will have access to various files and not others. This is what you'd call permissions.</p>\n<p>Let's see what users are already on your machine. Run <code class=\"language-text\">cat /etc/passwd</code> (notice it's passwd, not password). This will print out all of the currently registered users on your computer. Right now I have 20ish users on my system. You'll notice programs like man and mail have their own users to keep their permissions separate from yours. Why? Linux generally adheres to the principle of least power: we want programs to be given the least amount of power possible to complete their tasks. That way if they run amok, either accidentally or maliciously, the amount of damage they can cause is as minimal as possible.</p>\n<h2 id=\"superuser\" style=\"position:relative;\"><a href=\"#superuser\" aria-label=\"superuser permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Superuser</h2>\n<p><code class=\"language-text\">ubuntu</code> is a user and can only do things that a normal user can do. For example, a user cannot create a new user. Try <code class=\"language-text\">useradd brian</code> (or change <code class=\"language-text\">brian</code> for whatever you want the name of the new user to be.) You 'll see something saying \"Permission denied\". This is because only <em>the</em> superuser can add new users. So let's try that. Run <code class=\"language-text\">sudo su</code>. We'll talk about sudo in a sec but <code class=\"language-text\">su</code> is switch user. Now try running <code class=\"language-text\">whoami</code> again. It should say \"root\". The root user is the superuser. Now we have ultimate power: the superuser has no restrictions on what it can do. Try running <code class=\"language-text\">useradd brian</code> and you'll see you run it with no problem.</p>\n<p>What we did, <code class=\"language-text\">sudo su</code> is usually not what you want to do. When you do things as root, it means usually that only root in the future will be able to modify and delete files it makes. It also means that if you fat finger a command and accidentally type something wrong, you really can burn down the house. It's like using a flamethrower to start a grill: you can do it but there's a good shot you're taking the house down with you.</p>\n<p>To get out of being root, just hit CTRL+D or run <code class=\"language-text\">exit</code>. You should be back to being ubuntu.</p>\n<h2 id=\"sudo\" style=\"position:relative;\"><a href=\"#sudo\" aria-label=\"sudo permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sudo</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/complete-intro-to-linux-and-the-cli/static/5dd959f1173e00eaf64b0f516576e69c/47311/sudo.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAUABQDASIAAhEBAxEB/8QAGAABAQEBAQAAAAAAAAAAAAAAAAQDAQX/xAAXAQADAQAAAAAAAAAAAAAAAAAAAgMB/9oADAMBAAIQAxAAAAGjeJN83Rs9oHjCif/EABwQAAICAgMAAAAAAAAAAAAAAAECAxEAEhMiMf/aAAgBAQABBQJdVzbtOTyU8SRyOygio3NeR5//xAAVEQEBAAAAAAAAAAAAAAAAAAAQQf/aAAgBAwEBPwEh/8QAFhEBAQEAAAAAAAAAAAAAAAAAEAER/9oACAECAQE/AcKf/8QAGxAAAgIDAQAAAAAAAAAAAAAAACEBERAxMkH/2gAIAQEABj8CuGaZ0eEjol5//8QAGxAAAwADAQEAAAAAAAAAAAAAAAERITFhQVH/2gAIAQEAAT8ha1eFkXFFsHHyWPo2Uq+rwxpYnkZTd0dszgnSJaG7s//aAAwDAQACAAMAAAAQB/hB/8QAGBEAAgMAAAAAAAAAAAAAAAAAACEBEIH/2gAIAQMBAT8Qls23/8QAGREBAAIDAAAAAAAAAAAAAAAAAQAhEBEx/9oACAECAQE/EKEEK1Osf//EABsQAQEBAQEAAwAAAAAAAAAAAAERACFRYXGx/9oACAEBAAE/EBBxQ9TgGVB6D7y4BjgzK4BU/Vq7bxOzndUzJHi6GwABaA3XhO3h8Z3YWb//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Sarah Drasner&#39;s dog, Sudo\"\n        title=\"Sarah Drasner&#39;s dog, Sudo\"\n        src=\"/complete-intro-to-linux-and-the-cli/static/5dd959f1173e00eaf64b0f516576e69c/4b190/sudo.jpg\"\n        srcset=\"/complete-intro-to-linux-and-the-cli/static/5dd959f1173e00eaf64b0f516576e69c/e07e9/sudo.jpg 200w,\n/complete-intro-to-linux-and-the-cli/static/5dd959f1173e00eaf64b0f516576e69c/066f9/sudo.jpg 400w,\n/complete-intro-to-linux-and-the-cli/static/5dd959f1173e00eaf64b0f516576e69c/4b190/sudo.jpg 800w,\n/complete-intro-to-linux-and-the-cli/static/5dd959f1173e00eaf64b0f516576e69c/47311/sudo.jpg 1080w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Sudo is <a href=\"https://frontendmasters.com/teachers/sarah-drasner/\">Sarah Drasner's <em>adorable</em> dog</a> who I just love. If you haven't watched any of Sarah's courses they're <strong>amazing</strong>.</p>\n<p>Let's try deleting that brian user we added. Run <code class=\"language-text\">userdel brian</code>. It should tell you you can't again because of permissions. So let's run just one command as root. Use <code class=\"language-text\">sudo userdel brian</code>. <code class=\"language-text\">sudo</code> mean \"switch user and do\". If you don't tell it which user to switch to, it defaults to root (and 99.99% of the time it's what you meant to do.) This is great for things like this: ubuntu can't accomplish this so I have to use root. Instead of fully switching into root, I do one command as root and quit. Try <code class=\"language-text\">sudo whoami</code> to see that it says for that one command you're root.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 360px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/complete-intro-to-linux-and-the-cli/static/5e50e3c0ee4bb967610271e4e43862c3/f21e7/sandwich.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 83%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAAsSAAALEgHS3X78AAABuUlEQVQ4y4WTSYsCQQyF+/+fvQreFERQUVxwQ/EiuF1ccNz3fd9tZz4N1DRtM5NDkerkJS+v0losFhsOh71er9/vd7tdnE6nI073bVy/rKzRaGjENptNvV7Hmc1mlFgul4vFYj6fc65Wq+12+21luq5rzWYTTDabDYfD+Xwep1qtptPpTCaTTCa5FotF8hTm+XyK83g8NLpLGU56ns9nY3lJ3e12gUAgHo8XCgXyo9EobV6dBUwZTiYkT9XS34YDcwCoEwwGqWKz2bxe7/V61Rgd5OFwuN/vDLnf72+32+l0AqAYEuILpVEEdWu12ng8ftHmE3in0+nz+ahtt9vdbjcM+SJSSfPpdDqZTIwzv2gjMpLmcjkEC4VCfr8/kUikUilBSurlcuFKc6MQvzOjE2zhTB4xeIoKklcul10uFxWJWoCFG2oxkpGbGIsA5+PxaHwzM5jCo9HIBIbFYDCQnuYlMYIlj9M4GwmlUumTjhlcqVR4xvV6LakKzML9BSaAQqyqw+FAbcZTFVErEolY77YR3Gq1EMzj8fByau14S6H9z8ysTrvd5sdgyRVPWHA1cbYAW5oa/hP8AxhRssAgtbmoAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"sudo make me a sandwich\"\n        title=\"sudo make me a sandwich\"\n        src=\"/complete-intro-to-linux-and-the-cli/static/5e50e3c0ee4bb967610271e4e43862c3/f21e7/sandwich.png\"\n        srcset=\"/complete-intro-to-linux-and-the-cli/static/5e50e3c0ee4bb967610271e4e43862c3/772e8/sandwich.png 200w,\n/complete-intro-to-linux-and-the-cli/static/5e50e3c0ee4bb967610271e4e43862c3/f21e7/sandwich.png 360w\"\n        sizes=\"(max-width: 360px) 100vw, 360px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>xkcd comic by Randall Munroe, <a href=\"https://xkcd.com/149/\">link here</a></p>\n<p>It sort of feels a bit like <a href=\"https://en.wikipedia.org/wiki/Simon_Says\">Simon Says</a>, right?</p>\n<p>So why can ubuntu masquerade as root? It's because ubuntu (the user) has superuser privileges, or sometimes is called sudoer. Let's try being a user that can't sudo.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">useradd</span> brian\n<span class=\"token function\">sudo</span> <span class=\"token function\">passwd</span> brian\n<span class=\"token comment\"># make a password, I made something simple like \"asdf\"</span>\n<span class=\"token function\">su</span> brian\n<span class=\"token comment\"># your new password</span>\n<span class=\"token function\">whoami</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">su</span>\n<span class=\"token comment\"># brian is not in the sudoers file.  This incident will be reported.</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 695px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/complete-intro-to-linux-and-the-cli/static/e680ae22d4baa88fb8de224c311f61e4/83b75/incident.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 44.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAIAAAC9o5sfAAAACXBIWXMAAAxOAAAMTgF/d4wjAAABsUlEQVQozyVRzU7CYBD8noNn8GTCm/AIJnryFbx5w5iYqDFcTEgIHE2kDUQiQVII0tIW2oAF5LelpZSWWqhAcaR7+LLd3dmZnZJ6vV6r1XieVxSl3W53u91Op1OtViVJKpfLhUJhNBpZloW64zimaaIliiLeYrFIOI6rVCqA9Xo9WZbxjsdjrMvlcuEcMLvdTlXVw+Hg+z7DMJqq1j8/m80mAY8gCBjij7FcLjHnuq6u6/jEuul0iqKmaQBv1ut8Pj8zjImuDwYDAkmoYtTzPCQhCcDAQDlWZ7PZfr8/n8//wZtNjeN6DPORTuNCYtt2EATQhttWqxXyyWSy3W7dY6CSSCRw+Y/nrUxT4Tg3CN5fX6nz8wZN/zMvFguQsCwLHqxXjoEE96M1m80gfmlZ01br7eaGpelyJCKeni5sm2AO7UajAXlwHrJxXmg1RVE4QUfbML5l+fns7P7y8iEavSckfXv7GwRkOByCBPylUgk69/t96AIMx19AArzlOF+CcHd9/ZTJXMViFycnIIDzBHuBAcAwjNAwWBVaEG6BkWvfVyTpJZWiaPoxHn9MJlGHHX8afMiany9d9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Incidents are reported to Santa\"\n        title=\"Incidents are reported to Santa\"\n        src=\"/complete-intro-to-linux-and-the-cli/static/e680ae22d4baa88fb8de224c311f61e4/83b75/incident.png\"\n        srcset=\"/complete-intro-to-linux-and-the-cli/static/e680ae22d4baa88fb8de224c311f61e4/772e8/incident.png 200w,\n/complete-intro-to-linux-and-the-cli/static/e680ae22d4baa88fb8de224c311f61e4/e17e5/incident.png 400w,\n/complete-intro-to-linux-and-the-cli/static/e680ae22d4baa88fb8de224c311f61e4/83b75/incident.png 695w\"\n        sizes=\"(max-width: 695px) 100vw, 695px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>xkcd comic by Randall Munroe, <a href=\"https://xkcd.com/838/\">link here</a></p>\n<p>As illustarted above, don't worry about the \"incidents\". I used to worry that I was doing something wrong and the dean of the CS department was going to call me into his office. Turns out they didn't even know how to check those incidents.</p>\n<p>Okay, so nowe have a new user, brian, but brian can't sudo. How do we fix that? Groups!</p>\n<h2 id=\"groups\" style=\"position:relative;\"><a href=\"#groups\" aria-label=\"groups permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Groups</h2>\n<p>Just like we can add and subtract permissions from a user in Linux, we can actually do it for whole cohorts of users using groups. This is useful for many reasons. Let's say you have a server that everyone connects to get documents. You could have one cohort of users that just needs to read / download the documents. In this case, we could make a <code class=\"language-text\">readers</code> group and give them read-only permission to all files. They'll never need to (or be able to) create new files. Now if a hacker gets ahold of their credentials, they can only read files and not wreck your server. And when we add a new user, we just add them to the <code class=\"language-text\">readers</code> group and that's it! If we need to later modify it that <code class=\"language-text\">readers</code> can add files to just one directory, we can easily make that happen by adding write permissions to one directory for the readers. See how this can streamline things?</p>\n<p>Some groups has special privileges, like the <code class=\"language-text\">sudo</code> group. These users can now <code class=\"language-text\">sudo</code> whenenver they need to. Let's add our user brian to the sudo group. Run <code class=\"language-text\">sudo usermod -aG sudo brian</code> (or <code class=\"language-text\">sudo usermod --append --groups sudo brian</code> if you want the long form) from the ubuntu account. usermod allows you to modify user accounts and <code class=\"language-text\">-aG</code> allows you to append new groups to the user. In this case, we made it so brian is now a sudoer. Try this now.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">su</span> brian\n<span class=\"token function\">sudo</span> <span class=\"token function\">whoami</span></code></pre></div>\n<p>And now you can see it respond root, which means you've successfully â€¦ sudone?</p>\n<h2 id=\"permissions\" style=\"position:relative;\"><a href=\"#permissions\" aria-label=\"permissions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Permissions</h2>\n<p>Right now I'm logged in as brian but I'm in ubuntu's home directory. If you're not, run <code class=\"language-text\">su brian</code> then <code class=\"language-text\">cd /home/ubuntu</code>.</p>\n<p>Now, as brian, run <code class=\"language-text\">touch brian.txt</code>. You should see <code class=\"language-text\">touch: cannot touch &#39;brian.txt&#39;: Permission denied</code>. That's because everyone's home directory is locked down to themselves, so this is working as we anticipate.</p>\n<p>Run <code class=\"language-text\">ls -l</code> Let's discuss the <code class=\"language-text\">-rw-rw-r--</code> stuff you see in the first column. These are the permissions for each file and directory in that folder. Let's break it down one-by-one. It's not imperative you memorize this, just know enough to what you're looking at.</p>\n<p><code class=\"language-text\">d rwx rwx rwx</code></p>\n<p>The first <code class=\"language-text\">d</code> or <code class=\"language-text\">-</code> represents if it's a directory or a file. Anything with a hyphen here is a normal file. Anything width a <code class=\"language-text\">d</code> here is a directory. There are other possibilities besides just those two but most of what you're dealing with is one of these two. <a href=\"https://www.linux.com/training-tutorials/file-types-linuxunix-explained-detail/\">See here</a> if you want to see the others.</p>\n<p>The next three groups represent file permissions. The first groups is the file permissions for the user that owns that file. The next three are the file permissions for the group that owns that file. The last three is for everyone that is not that user or group.</p>\n<p>For each of the three, the <code class=\"language-text\">r</code> represents read permission, the <code class=\"language-text\">w</code> represents write permission, and the <code class=\"language-text\">x</code> represents execute permission. I think is best illustrated with a bunch of examples.</p>\n<p><code class=\"language-text\">-rw-rw-r--</code> is a file, it has read-and-write permission for the user and the group, and read permission for everyone else, no write. The file is not executable.</p>\n<p><code class=\"language-text\">drwx------</code> is a directory that can only be written and modified by the user. It's unreadable and unwritable by the group and the rest of the system.</p>\n<p><code class=\"language-text\">-rwxr-xr-x</code> is a file, everyone can read it, everyone can execute it, and only the user can write to it.</p>\n<p>So what is executing in this context? It means it's an executable program. If you run <code class=\"language-text\">ls -l /usr/bin</code>, you'll see many of the programs that Linux has. You'll see that these are all executable programs. That's what the <code class=\"language-text\">x</code> is, it mean that the file is a program that can be run.</p>\n<p>We'll talk about how Linux knows where these files are in a bit, but if you run <code class=\"language-text\">echo $PATH</code> you'll see that <code class=\"language-text\">/usr/local/bin</code> is in there.</p>\n<p>Okay, so back to where we are, if you say <code class=\"language-text\">touch brian.txt</code> as brian in ubuntu's home it won't let you. But try <code class=\"language-text\">sudo touch brian.txt</code> it will work. If you do <code class=\"language-text\">ls -l</code> you'll see it wrote the file as root instead as brian. If we wanted brian to be able to write here, we'd have to change the permissions of the ubuntu home directory (you don't want to do that.)</p>\n<h2 id=\"chown\" style=\"position:relative;\"><a href=\"#chown\" aria-label=\"chown permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>chown</h2>\n<p>Okay, so let's modify some stuff then. Switch back to being the ubuntu user if you're still brian (you can run su ubuntu).</p>\n<p>Let's make a directory in the root.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">whoami</span> <span class=\"token comment\"># should say ubuntu</span>\n<span class=\"token builtin class-name\">cd</span> /\n<span class=\"token function\">mkdir</span> hello <span class=\"token comment\"># permission denied, you don't have permission to do that here</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> hello <span class=\"token comment\"># works, but now hello is owned by root:root</span>\n<span class=\"token function\">ls</span> -l <span class=\"token comment\"># notice hello is owned by root:root</span>\n<span class=\"token function\">touch</span> hello/text.txt <span class=\"token comment\"># permission denied, you don't own hello</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chown</span> ubuntu:ubuntu hello <span class=\"token comment\"># it's &lt;group>:&lt;user></span>\n<span class=\"token function\">ls</span> -l <span class=\"token comment\"># notice hello is now owned by ubuntu:ubuntu</span>\n<span class=\"token function\">touch</span> hello/text.txt <span class=\"token comment\"># works!</span></code></pre></div>\n<p>This is what chown does! It allows you to reassign ownership (<strong>ch</strong>ange <strong>own</strong>er).</p>\n<p>In general this is not something you need to do a ton of but it's occasionally useful.</p>\n<h2 id=\"chmod\" style=\"position:relative;\"><a href=\"#chmod\" aria-label=\"chmod permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>chmod</h2>\n<p>chmod syntax is delightfully obtuse. Did you come in prepared to do some binary-to-decimal math in your head? Because here we go.</p>\n<p>So chmod allows you to directly change the permissions of the file rather just changing the owners. So instead saying \"now ubuntu can write to this folder insetad of brian\" we can say \"any person in this ground can read from it\" or \"everyone on this computer can read from it\". Let's do a few examples.</p>\n<p>So let's try a few</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">whoami</span> <span class=\"token comment\"># should be ubuntu still</span>\n<span class=\"token builtin class-name\">cd</span> ~ <span class=\"token comment\"># go to home directory</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">touch</span> secret.txt <span class=\"token comment\"># make a file as root</span>\n<span class=\"token function\">ls</span> -l secret.txt <span class=\"token comment\"># -rw-r--r-- so root can read and write but no one else can</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"very secret message\"</span> <span class=\"token operator\">>></span> secret.txt <span class=\"token comment\"># doesn't work, permission denied</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> <span class=\"token assign-left variable\">u</span><span class=\"token operator\">=</span>rw,g<span class=\"token operator\">=</span>rw,o<span class=\"token operator\">=</span>rw secret.txt <span class=\"token comment\"># make it so anyone can read or write to the file</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"very secret message\"</span> <span class=\"token operator\">>></span> secret.txt <span class=\"token comment\"># works this time!</span>\n<span class=\"token function\">cat</span> secret.txt <span class=\"token comment\"># should see very secret message</span></code></pre></div>\n<p>So that's the easy-to-remember chmod syntax. Just use u=rwx syntax (omit things you don't want the permission for.) The <code class=\"language-text\">u</code> is for user, <code class=\"language-text\">g</code> is for group, and <code class=\"language-text\">o</code> is for other or everybody else. The <code class=\"language-text\">r</code> is for read, the <code class=\"language-text\">w</code> is for write, and the <code class=\"language-text\">x</code> is for execute.</p>\n<p>Okay, so now for binary. There is a shortcut for doing this with number instead of <code class=\"language-text\">u=rwx,&lt;etc&gt;</code> and it involves binary. Instead of saying <code class=\"language-text\">chmod u=rwx,g=rwx,o=rwx file.txt</code> you can say <code class=\"language-text\">chmod 777 file.txt</code> and those mean the same thing. Why? Because someone was feeling very lazy.</p>\n<p>The magic formula is that you can add 4 to the number is you want to add read, add 2 for write, add 1 for executable, and set to 0 if you want zero permissions. Then do that for each and put the numbers in the order of user, group, other. So <code class=\"language-text\">chmod 640 secret.txt</code> would make it read+write for the user, read for the group, and no permission for anyone else. Why do I teach you this? Because you'll see <code class=\"language-text\">chmod 777 stuff.txt</code> out on StackOverflow and it's a bad idea. It's a hack. It makes a file accessibile to anyone and that's a bad idea. Going back to our principle of least power, we just want to grant the minimal permissions possible.</p>\n<p>One last one you'll see is the use of <code class=\"language-text\">+</code> and <code class=\"language-text\">-</code>. If you want to make a file executable, you can say <code class=\"language-text\">chmod +x secret.txt</code> and it'll add executable to each of the permissions. As you may imagine <code class=\"language-text\">chmod -x secret.txt</code> takes it away. You can use it with w and r too, just that's not super common to do.</p>\n<p>And that's it for permission! There's a lot more to learn here but this is a great start for you.</p>","frontmatter":{"path":"/users-groups-and-permissions","title":"Users, Groups, and Permissions","order":"5D","section":"Files, Pipes, and Permissions","description":"Another core function of Linux is its security and permission model. This centers around the concepts of users, groups, and permissions. Brian explains what this means to a user of Linux."}},"allMarkdownRemark":{"edges":[{"node":{"frontmatter":{"order":"3A","path":"/anatomy-of-a-cli-command","title":"Anatomy of a CLI Command"}}},{"node":{"frontmatter":{"order":"8B","path":"/apt","title":"APT"}}},{"node":{"frontmatter":{"order":"7D","path":"/curl","title":"curl"}}},{"node":{"frontmatter":{"order":"6A","path":"/environments","title":"Environments"}}},{"node":{"frontmatter":{"order":"5A","path":"/interacting-with-files","title":"Interacting with Files"}}},{"node":{"frontmatter":{"order":"1A","path":"/intro","title":"Introduction"}}},{"node":{"frontmatter":{"order":"2C","path":"/lets-run-linux","title":"Let's Run Linux"}}},{"node":{"frontmatter":{"order":"4A","path":"/nano","title":"nano"}}},{"node":{"frontmatter":{"order":"6D","path":"/process-operators","title":"Exit Codes, Process Operators, and Subcommands"}}},{"node":{"frontmatter":{"order":"6B","path":"/processes","title":"Processes"}}},{"node":{"frontmatter":{"order":"7B","path":"/sftp","title":"SFTP"}}},{"node":{"frontmatter":{"order":"3C","path":"/signals-and-the-power-of-ctrl","title":"Signals and the the Power of CTRL"}}},{"node":{"frontmatter":{"order":"8C","path":"/snaps","title":"Snaps"}}},{"node":{"frontmatter":{"order":"7A","path":"/ssh","title":"SSH"}}},{"node":{"frontmatter":{"order":"5C","path":"/streams-and-pipes","title":"Streams and Pipes"}}},{"node":{"frontmatter":{"order":"3B","path":"/common-tips-and-tricks","title":"Common Tips and Tricks"}}},{"node":{"frontmatter":{"order":"5D","path":"/users-groups-and-permissions","title":"Users, Groups, and Permissions"}}},{"node":{"frontmatter":{"order":"4B","path":"/vim","title":"vim"}}},{"node":{"frontmatter":{"order":"7C","path":"/wget","title":"wget"}}},{"node":{"frontmatter":{"order":"2B","path":"/what-is-linux","title":"What is Linux"}}},{"node":{"frontmatter":{"order":"8A","path":"/what-is-package-management","title":"What is Package Management"}}},{"node":{"frontmatter":{"order":"2A","path":"/what-will-you-learn","title":"What you will learn"}}},{"node":{"frontmatter":{"order":"5B","path":"/lol","title":"Wildcards and Replacements"}}}]}},"pageContext":{}}}